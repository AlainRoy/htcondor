\begin{ManPage}{\label{man-condor-status}\Condor{status}}{1}
{Display status of the Condor pool}
\Synopsis \SynProg{\Condor{status}}
\oArg{help options}
\oArg{query options}
\oArg{display options}
\oArg{custom options}
\oArg{hostname \Dots}

\index{Condor commands!condor\_status}
\index{condor\_status command}

\Description
\Condor{status} is a versatile tool that may be used to monitor and query the 
Condor pool.  The \Condor{status} tool can be used to query resource 
information, submitter information, checkpoint server information, and daemon
master information.  The specific query sent and the resulting information 
display is controlled by the query options supplied.  Queries and display 
formats can also be customized.

The options that may be supplied to \Condor{status} belong to five groups:
\begin{itemize}
	\item \textbf{Help options} provide information about the \Condor{status}
		tool.
	\item \textbf{Query options} control the content and presentation of status
		information.
	\item \textbf{Display options} control the display of the queried 
		information.
	\item \textbf{Custom options} allow the user to customize query and
		display information.
	\item \textbf{Host options} specify specific machines to be queried
\end{itemize}

At any time, only one \Arg{help option}, one \Arg{query option} and one
\Arg{custom option} may be specified.  Any number of \Arg{custom} and \Arg{host
options} may be specified.

\begin{Options}
    \OptItem{\Opt{-help}}{(Help option) Display usage information}
    \OptItem{\Opt{-diagnose}}{(Help option) Print out query ad without 
		performing query}
    \OptItem{\Opt{-avail}}{(Query option) Query \Condor{startd} ads and identify
		resources which are available}
    \OptItem{\Opt{-claimed}}{(Query option) Query \Condor{startd} ads and print 
		information about claimed resources}
    \OptItem{\Opt{-ckptsrvr}}{(Query option) Query \Condor{ckpt\_server} ads
		and display checkpoint server attributes}
    \OptItem{\OptArg{-direct}{hostname}}{(Query option) Go directly to
    the given hostname to get the ads to display}
    \OptItem{\Opt{-java}}{(Query option) Display only Java-capable resources.}
    \OptItem{\Opt{-master}}{(Query option) Query \Condor{master} ads and display
		daemon master attributes}
    \OptItem{\OptArg{-pool}{centralmanagerhostname[:portnumber]}}
    {(Query option) Query the specified central manager using an
        optional port number. 
	(\Condor{status} queries \Macro{COLLECTOR\_HOST} by default)}
    \OptItem{\Opt{-schedd}}{(Query option) Query \Condor{schedd} ads and display
		attributes}
    \OptItem{\Opt{-server}}{(Query option) Query \Condor{startd} ads and 
		display resource attributes}
    \OptItem{\Opt{-startd}}{(Query option) Query \Condor{startd} ads} 
    \OptItem{\Opt{-state}}{(Query option) Query \Condor{startd} ads and display 
		resource state information}
    \OptItem{\Opt{-submitters}}{(Query option) Query ads sent by submitters and
		display important submitter attributes}
    \OptItem{\Opt{-cod}}{(Display option) Display only machine ClassAds
		that have COD claims. Information displayed includes
		the claim ID, the owner of the claim, and the state
		of the COD claim.}
    \OptItem{\Opt{-verbose}}{(Display option) Display entire ClassAds.  Implies
		that totals will not be displayed.}
    \OptItem{\Opt{-long}}{(Display option) Display entire ClassAds 
		(same as \Opt{-verbose})}
    \OptItem{\Opt{-total}}{(Display option) Display totals only}
    \OptItem{\Opt{-xml}}{(Display option) Display entire ClassAds,
                in xml format.  The xml format is fully defined at
		\URL{http://www.cs.wisc.edu/condor/classad/refman/}.}
    \OptItem{\Opt{-expert}}{(Display option) Display shortened error messages}
    \OptItem{\OptArg{-sort}{attr}}{(Display option) Display entries in
                ascending order based on the value of the named attribute} 
    \OptItem{\OptArg{-constraint}{const}}{(Custom option) Add constraint 
		expression.  See section~\ref{sec:classadref} for
		details on writing expressions.}
	\OptItem{\OptArg{-format}{fmt attr}}{(Custom option) Display attribute
              	\emph{attr} in format \emph{fmt}.
		To display the attribute the format must contain a single
		{\texttt{printf(3)}} style conversion specifier.
		Attributes must be from the resource ClassAd.  If the
		attribute is not present in a given ClassAd then the
		format option will be silently skipped.
		The conversion specifier must match the type of the
		attribute.   \%s is suitable for strings like Name, \%d
		for integers like LastHeardFrom, and \%f for floating point
		numbers like LoadAvg.  An incorrect format
		will result in undefined behavior.
		Do not use more than one conversion specifier in a given
		format.  More than one conversion specifier will result
		in undefined behavior.  To output multiple attributes
		repeat the \Opt{-format} option once for each desired
		attribute.
		Like {\texttt{printf(3)}} style formats you can include other
		text that will be reproduced directly.   You can specify
		a format without any conversion specifiers but you must
		still give attribute.
		You can include \Bs n to add specify a line break.
		There are some examples of using \Opt{-format} in the
		Examples section below. }
\end{Options}

\GenRem
\begin{itemize}
	\item The information obtained from \Condor{startd} and \Condor{schedd}
	daemons
	may sometimes appear to be inconsistent.  This is normal since
	\Condor{startd}  and \Condor{schedd} daemons update the Condor
	manager at different rates, and since there is a
	delay as information propagates through the network and the system.

	\item Note that the \texttt{ActivityTime} in the \texttt{Idle} state is
	\emph{not} the amount of time that the machine has been idle.  See the
	section on \Condor{startd} states in the \emph{Administrator's Manual}
	for more information.

	\item When using \Condor{status} on a pool with SMP machines,
	you can either provide the hostname, in which case you will
	get back information about all virtual machines that are
	represented on that host, or you can list specific virtual
	machines by name.  
	See the examples below for details.

	\item If you specify host names, without domains, Condor will
	automatically try to resolve those host names into fully
	qualified host names for you.
	This also works when specifying specific nodes of an SMP
	machine.
	In this case, everything after the ``@'' sign is treated as a
	hostname and that is what is resolved.

	\item You can use the \Opt{-direct} option in conjunction with
	almost any other set of options.
	However, at this time, the only daemon that will allow direct
	queries for its ad(s) is the \Condor{startd}.
	So, the only options currently not supported with
	\Opt{-direct} are \Opt{-schedd} and \Opt{-master}.
	Most other options use startd ads for their information, so
	they work seamlessly with \Opt{-direct}.
	The only other restriction on \Opt{-direct} is that you may
	only use 1 \Opt{-direct} option at a time.
	If you want to query information directly from multiple hosts,
	you must run \Condor{status} multiple times.

	\item Unless you use the local hostname with \Opt{-direct},
	\Condor{status} will still have to contact a collector to find
	the address where the specified daemon is listening.
	So, using a \Opt{-pool} option in conjunction with
	\Opt{-direct} just tells \Condor{status} which collector to
	query to find the address of the daemon you want.
	The information actually displayed will still be retrieved
	directly from the daemon you specified as the argument to
	\Opt{-direct}.

\end{itemize}

\Examples

\underline{Example 1} To view information from all nodes of an SMP
machine, just use the hostname.
For example, if you had a 4-CPU machine, named
``vulture.cs.wisc.edu'', here's what you might see:
\begin{verbatim}
% condor_status vulture

Name          OpSys       Arch   State      Activity   LoadAv Mem   ActvtyTime

vm1@vulture.c SOLARIS26   INTEL  Owner      Idle       0.020  128   0+00:57:13
vm2@vulture.c SOLARIS26   INTEL  Claimed    Busy       1.006  128   0+01:16:03
vm3@vulture.c SOLARIS26   INTEL  Claimed    Busy       0.978  128   0+03:32:53
vm4@vulture.c SOLARIS26   INTEL  Claimed    Busy       1.001  128   0+02:21:07

                     Machines Owner Claimed Unclaimed Matched Preempting

     INTEL/SOLARIS26        4     0       4         0       0          0

               Total        4     0       4         0       0          0
\end{verbatim}

\underline{Example 2} To view information from a specific nodes of an
SMP machine, specify the node directly.
You do this by providing the name of the \Term{virtual machine}.
This has the form \texttt{vm\#@hostname}.
For example:
\begin{verbatim}
% condor_status vm2@vulture

Name          OpSys       Arch   State      Activity   LoadAv Mem   ActvtyTime

vm2@vulture.c SOLARIS26   INTEL  Claimed    Busy       1.006  128   0+01:16:03

                     Machines Owner Claimed Unclaimed Matched Preempting

     INTEL/SOLARIS26        1     0       1         0       0          0

               Total        1     0       1         0       0          0
\end{verbatim}

\underline{Constraint option examples}

To use the constraint option to see all machines with the \Attr{OpSys}
of \AdStr{LINUX}, use
\begin{verbatim}
% condor_status -constraint OpSys==\"LINUX\"
\end{verbatim}
Note that quotation marks must be escaped with the backslash characters
for most shells.

To see all machines that are currently in the Idle state, use
\begin{verbatim}
% condor_status -constraint State==\"Idle\"
\end{verbatim}

To see all machines that are bench marked to have a MIPS rating
of more than 750, use
\begin{verbatim}
% condor_status -constraint 'Mips>750' 
\end{verbatim}

\underline{-cod option example}

The \Opt{-cod} option displays the status of COD
claims within a given Condor pool. 

\begin{verbatim}
Name        ID   ClaimState TimeInState RemoteUser JobId Keyword
astro.cs.wi COD1 Idle        0+00:00:04 wright
chopin.cs.w COD1 Running     0+00:02:05 wright     3.0   fractgen
chopin.cs.w COD2 Suspended   0+00:10:21 wright     4.0   fractgen

               Total  Idle  Running  Suspended  Vacating  Killing
 INTEL/LINUX       3     1        1          1         0        0
       Total       3     1        1          1         0        0
\end{verbatim}


\ExitStatus

\Condor{status} will exit with a status value of 0 (zero) upon success,
and it will exit with the value 1 (one) upon failure.

\end{ManPage}

