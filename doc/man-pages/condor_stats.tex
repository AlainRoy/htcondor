\begin{ManPage}{\Condor{stats}}{1}{Display historical information about the Condor pool}
\label{man-condor-stats}
\Synopsis \SynProg{\Condor{stats}}
\oOptArg{-f}{filename}
\oOpt{-orgformat}
\oOptArg{-pool}{centralmanagerhostname[:portnumber]}
\oArg{query-type}
\oOpt{time-range}

\index{Condor commands!condor\_stats}
\index{condor\_stats command}

\Description
\Condor{stats} is a tool that is used to display historic information about 
a Condor pool. Based on the type of information requested (by specifying
it using the command line arguments), a query is sent to the collector,
and the information received is displayed using the standard ouptut. If
the -f option is used the information will ne written to a file instead of
the standard output. The -pool option can be used to get information from 
other pools, instead of the local (default) pool.
Condor pool.  The \Condor{status} tool can be used to query resource 
information (single or by platform), submitter and user information, and checkpoint server information.
When a time range is not specified, the query retrieves information for the last
day. Otherwise, information can be retrieved for other time ranges such as the last
specified number of hours, last week, last month, or a specified date range.

The information is diplayed in columns separated by tabs. The first column always reresents
the time, as a percentage of the range of the query (for example, a value of 50 in the first 
column indicates that the information on that line corresponds to a time in the middle of the
query time range). If the -orgformat option is used, the time is displayed as number of seconds
since the beginning of 1970.
The information in the rest of the columns depends on the query type.

The possible query types and the information they provide:

\begin{itemize}
	\item \textbf{Single resource query} requested using the -resourcequery option and provides
	       information about a single machine. The information displayed includes the keyboard
	       idle time (in seconds), the load average, and the machine state.
	\item \textbf{Single resource list} requested using the -resourcelist option and provides
	       a list of all the machines for which the collector has historic information in
	       the query's time range.
	\item \textbf{Resource group query} requested using the -resgroupquery option and provides
	       information about a group of machines (based on operating system and architecture).
	       The information displayed includes number of machines in unclaimed state, matched
	       state, claimed state, preempting state, owner state, and total number of machines.
	\item \textbf{Resource group list} requested using the -resgrouplist option and provides
	       a list of all the group names for which the collector has historic information in
	       the query's time range.
	\item \textbf{Submitter query} requested using the -userquery option and provides
	       information about a submitter (a user submitting from a specific machine). 
	       The information displayed includes the number of running jobs and the number of idle jobs.
	\item \textbf{Submitter list} requested using the -userlist option and provides
	       a list of all the submitters for which the collector has historic information in
	       the query's time range.
	\item \textbf{User query} requested using the -usergroupquery option and provides
	       information about a user (for all jobs submitted by that user, regardless of
	       the machine they were submitted from). 
	       The information displayed includes the number of running jobs and the number of idle jobs.
	\item \textbf{User list} requested using the -usergrouplist option and provides
	       a list of all the users for which the collector has historic information in
	       the query's time range.
	\item \textbf{Checkpoint server query} requested using the -ckptquery option and provides
	       information about a checkpoint server. The information displayed includes the
	       number of bytes received (in Mb), bytes sent (Mb), average receive bandwidth (in Kb/s),
	       and average send bandwidth (Kb/s).
	\item \textbf{Checkpoint server list} requested using the -ckptlist option and provides
	       a list of all the checkpoint servers for which the collector has historic information in
	       the query's time range.
\end{itemize}

One of the above query types must be specified on the command line.
Note that logging of pool history must be enabled in the collector, otherwise
no information will be available and the query will not be responded to.

\begin{Options}
    \OptItem{\OptArg{-f}{filename}}{Write the information to a file instead of the standard output.}
    \OptItem{\OptArg{-pool}{centralmanagerhostname[:portnumber]}}
    {Contact the specified central manager instead of the local one.}
    \OptItem{\Opt{-orgformat}}{Display the information in the same format it is actually stored.}
    \OptItem{\Opt{-lastday}}{Get information for the last day.}
    \OptItem{\Opt{-lastweek}}{Get information for the last week.}
    \OptItem{\Opt{-lastmonth}}{Get information for the last month.}
    \OptItem{\OptArg{-lasthours}{n}}{Get information for the n last hours.}
    \OptItem{\OptArg{-from}{m d y}}{Get information for the time since the specified date.}
    \OptItem{\OptArg{-to}{m d y}}{Get information for the time up to the specified date, instead
             of up to now.}
    \OptItem{\OptArg{-resourcequery}{name}}{Perform a single resource query for the specified resource.}
    \OptItem{\Opt{-resourcelist}}{Get the list of resources.}
    \OptItem{\OptArg{-resgroupquery}{name}}{Perform a resource group query for the specified group.}
    \OptItem{\Opt{-resgrouplist}}{Get the list of groups.}
    \OptItem{\OptArg{-userquery}{name}}{Perform a submitter query for the specified submitter.}
    \OptItem{\Opt{-userlist}}{Get the list of submitters.}
    \OptItem{\OptArg{-usergroupquery}{name}}{Perform a user query for the specified user.}
    \OptItem{\Opt{-usergrouplist}}{Get the list of users.}
    \OptItem{\OptArg{-ckptquery}{name}}{Perform a checkpoint server query for the specified checkpoint server.}
    \OptItem{\Opt{-ckptlist}}{Get the list of checkpoint servers.}
\end{Options}

\ExitStatus

\Condor{stats} will exit with a status value of 0 (zero) upon success,
and it will exit with the value 1 (one) upon failure.

\end{ManPage}
