\begin{ManPage}{\label{man-condor-submit-dag}\Condor{submit\_dag}}{1}
{Manage and queue jobs within a specified DAG for execution on remote machines}
\Synopsis \SynProg{\Condor{submit\_dag}}
\oOpt{-no\_submit}
\oOpt{-verbose}
\oOpt{-force}
\oOptArg{-maxidle}{NumberOfJobs}
\oOptArg{-maxjobs}{NumberOfJobs}
\oOptArg{-dagman}{DagmanExecutable}
\oOptArg{-maxpre}{NumberOfPREscripts}
\oOptArg{-maxpost}{NumberOfPOSTscripts}
\oOptArg{-storklog}{LogFileName}
\oOptArg{-notification}{value}
\oOpt{-noeventchecks}
\oOpt{-allowlogerror}
\oOptArg{-r}{schedd\_name}
\oOptArg{-debug}{level}
\oOpt{-usedagdir}
\oOptArg{-outfile\_dir}{directory}
\oOptArg{-config}{ConfigFileName}
\Arg{DAGInputFile1}
\oArg{{DAGInputFile2} \Dots {DAGInputFileN} }


\index{Condor commands!condor\_submit\_dag}
\index{condor\_submit\_dag command}

\Description

\Condor{submit\_dag} is the program for submitting a DAG (directed
acyclic graph) of jobs for execution under Condor.
The program enforces the job dependencies defined
in one or more \Arg{DAGInputFile}s.
Each \Arg{DAGInputFile} contains commands
to direct the submission of jobs implied by the nodes
of a DAG to Condor.
See the Condor User Manual, section~\ref{sec:DAGMan} for a complete
description.

\begin{Options}
  \OptItem{\Opt{-no\_submit}}{Produce the Condor submit description file
     for DAGMan, but do not submit DAGMan as a Condor job.}
  \OptItem{\Opt{-verbose}}{Cause \Condor{submit\_dag}
     to give verbose error messages.}
  \OptItem{\Opt{-force}}{Require \Condor{submit\_dag} to overwrite
     the files that it produces, if the files already exist.  Note that
     \File{dagman.out} will be appended to, not overwritten.}
  \OptItem{\OptArg{-maxidle}{NumberOfJobs}}{Sets the maximum number of idle
     jobs allowed before \Condor{dagman} stops submitting more jobs.  Once
     idle jobs start to run, \Condor{dagman} will resume submitting jobs.
     \Arg{NumberOfJobs} is a positive integer. If the option is
          omitted, the number of idle jobs is unlimited.}
  \OptItem{\OptArg{-maxjobs}{NumberOfJobs}}{Sets the maximum number of jobs
     within the DAG that will be submitted to Condor at one time.
     \Arg{NumberOfJobs} is a positive integer. If the option is
     omitted, the default number of jobs is unlimited.}
  \OptItem{\OptArg{-dagman}{DagmanExecutable}}{Allows the specification of an 
     alternate \Condor{dagman} executable to be used instead of the one found 
     in the user's path. This must be a fully qualified path.}
  \OptItem{\OptArg{-maxpre}{NumberOfPREscripts}}{Sets the maximum number of PRE
     scripts within the DAG that may be running at one time.
     \Arg{NumberOfPREScripts} is a positive integer. If this option is
     omitted, the default number of PRE scripts is unlimited.}
  \OptItem{\OptArg{-maxpost}{NumberOfPOSTscripts}}{Sets the maximum number of 
     POST scripts within the DAG that may be running at one time.
     \Arg{NumberOfPOSTScripts} is a positive integer. If this option is
     omitted, the default number of POST scripts is unlimited.}
  \OptItem{\OptArg{-log}{LogFileName}}{Deprecated option; do not use.}
  \OptItem{\OptArg{-storklog}{LogFileName}}{Sets the file name for the
     Stork log for data placement jobs.}
  \OptItem{\OptArg{-notification}{value}}{Sets the e-mail notification
     for DAGMan itself. This information will be used within the Condor
     submit description file for DAGMan. This file is produced by
     \Condor{submit\_dag}. See \Opt{notification}
     within the section of submit description file commands in the
     \Condor{submit} manual page on page~\pageref{man-condor-submit}
     for specification of \Arg{value}.
     }
  \OptItem{\Opt{-noeventchecks}}{This argument is no longer used; it
     is now ignored.  Its functionality is now implemented by
     the \MacroNI{DAGMAN\_ALLOW\_EVENTS} configuration macro
     (see section~\ref{param:DAGManAllowEvents}).}
  \OptItem{\Opt{-allowlogerror}}{This optional argument has
     \Condor{dagman} try to run the specified DAG, even in the case
     of detected errors in the user log specification. }
  \OptItem{\OptArg{-r}{schedd\_name}}{Submit to a remote schedd. The jobs
    will be submitted to the schedd on the specified remote host. On Unix
    systems, the Condor administrator for you site must override the default
    AUTHENTICATION\_METHODS configuration setting to enable remote file system
    (FS\_REMOTE) authentication.}
  \OptItem{\OptArg{-debug}{level}}{
     Passes the the \Arg{level} of debugging output desired to
     \Condor{dagman}.  \Arg{level} is an integer, with values of
     0-7 inclusive, where 7 is the most verbose output.
     A default value of 3 is passed to \Condor{dagman} when not
     specified with this option.
     See the 
     \Condor{dagman} manual page on page~\pageref{man-condor-dagman}
     for detailed descriptions of these values.
     }
  \OptItem{\Opt{-usedagdir}}{This optional argument has causes
     \Condor{dagman} to run each specified DAG as if \Condor{submit\_dag}
     had been run in the directory containing that DAG file.  This option
     is most useful when running multiple DAGs in a single \Condor{dagman}.
     }
  \OptItem{\OptArg{-outfile\_dir}{directory}}{
     Specifies the directory in which the \File{.dagman.out} file will
     be written.  The \Argnm{directory} may be specified relative to
     the current working directory as \Condor{submit\_dag} is executed,
     or specified with an absolute path.
     Without this option, the \File{.dagman.out} file is placed in the
     same directory as the first DAG input file listed on the command line.
     }
  \OptItem{\OptArg{-config}{ConfigFileName}}{
     Specifies a configuration file to be used for this DAGMan run.
     Note that the options specified in the configuration file apply to all
     DAGs if multiple DAGs are specified.  Further note that it is a
     fatal error if the configuration file specified by this option
     conflicts with a configuration file specified in any of the DAG
     files, if they specify one.  For more information about how
     \Condor{dagman} configuration files work, see
     section~\ref{sec:DAGConfig}.
     }
  \end{Options}

\SeeAlso
Condor User Manual

\ExitStatus

\Condor{submit\_dag} will exit with a status value of 0 (zero) upon success,
and it will exit with the value 1 (one) upon failure.

\Examples

To run a single DAG:
\begin{verbatim}
% condor_submit_dag diamond.dag
\end{verbatim}

To run a DAG when it has already been run and the output files exist:
\begin{verbatim}
% condor_submit_dag -force diamond.dag
\end{verbatim}

To run a DAG, limiting the number of idle node jobs in the DAG to a
maximum of five:
\begin{verbatim}
% condor_submit_dag -maxidle 5 diamond.dag
\end{verbatim}

To run a DAG, limiting the number of concurrent PRE scripts to 10
and the number of concurrent POST scripts to five:
\begin{verbatim}
% condor_submit_dag -maxpre 10 -maxpost 5 diamond.dag
\end{verbatim}

To run two DAGs, each of which is set up to run in its own directory:
\begin{verbatim}
% condor_submit_dag -usedagdir dag1/diamond1.dag dag2/diamond2.dag
\end{verbatim}

\end{ManPage}

