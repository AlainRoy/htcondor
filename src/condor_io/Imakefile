all_target(libcedar.a)

CFLAGS = $(STD_C_FLAGS) 
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) -DHEADER_DES_LOCL_H
LIB = libcedar.a $(STD_LIBS)

#if CONDOR_ENCRYPTION

#if CONDOR_3DES_ENCRYPTION
CONDOR_DES_OBJ = condor_crypt_3des.o
#endif

#if CONDOR_BLOWFISH_ENCRYPTION
CONDOR_BLOWFISH_OBJ = condor_crypt_blowfish.o
#endif

CONDOR_CRYPT_OBJ = $(CONDOR_DES_OBJ) $(CONDOR_BLOWFISH_OBJ)
#endif

#if WANT_KERBEROS
AUTH_KERB_OBJ = condor_auth_kerberos.o
#endif

#if WANT_GSI && HAS_GSI
AUTH_X509_OBJ = condor_auth_x509.o
#endif

CONDOR_AUTH_OBJ = condor_auth.o condor_auth_claim.o condor_auth_fs.o \
	          condor_auth_sspi.o condor_auth_anonymous.o         \
		  $(AUTH_X509_OBJ) $(AUTH_KERB_OBJ) authentication.o

CONDOR_TYPE_OBJ = sig_num.o proc.o open_flags.o fcntl_cmd.o errno_num.o

OBJ = stream.o sock.o reli_sock.o safe_sock.o buffers.o sockCache.o \
		$(CONDOR_AUTH_OBJ) $(CONDOR_TYPE_OBJ) condor_rw.o \
		SafeMsg.o condor_crypt.o $(CONDOR_CRYPT_OBJ) CryptKey.o \
		condor_secman.o
/*		autoTest.o manTest.o */

library_target(libcedar.a,$(OBJ))

c_plus_target(cedar.t,cedar.t.o,$(LIB))
pure_c_plus_target(cedar.t.pure,$(OBJ),$(LIB))
purecov_c_plus_target(cedar.t.pc,$(OBJ),$(LIB))
c_plus_target(buftest,buftest.o,$(LIB))
html_target( ../condor_includes/stream.h ../condor_includes/reli_sock.h ../condor_includes/safe_sock.h ../condor_includes/sock.h )

release:: all
stripped:: all
static:: all

/* reli_sock_no_auth.o: reli_sock.C */
/* $(CPlusPlus) $(C_PLUS_FLAGS) -DNO_AUTHENTICATION \ */
/* -c reli_sock.C -o reli_sock_no_auth.o */

/* IMPORT_LINKS = ../../config/import_links */
/* import(../condor_c++_util,MyString.o) */

