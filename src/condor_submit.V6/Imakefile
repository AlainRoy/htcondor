NAME = condor_submit
all_target($(NAME))

#if IS_CLIPPED
CLIPPED = -DCLIPPED
#endif

GSOAP_EXTRAS_DIR = ./gsoap_install_extras
GSOAP_EXTRAS_INCLUDE = -I $(GSOAP_EXTRAS_DIR) -I $(GSOAP_EXTRAS_DIR)/plugin -I $(GSOAP_EXTRAS_DIR)/import

CFLAGS = $(STD_C_FLAGS) $(CLIPPED) -I$(GSOAP_INC) $(GSOAP_EXTRAS_INCLUDE) -I. -DWITH_DOM -DWITH_OPENSSL
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) $(CLIPPED) -I$(GSOAP_INC) $(GSOAP_EXTRAS_INCLUDE) -I.
LIB = $(STD_LIBS)
# -lrt

soapobjs(submit)

OBJ = submit.o signer.o \
	$(GSOAP_EXTRAS_DIR)/plugin/smdevp.o \
	$(GSOAP_EXTRAS_DIR)/plugin/wsseapi.o \
	$(GSOAP_EXTRAS_DIR)/dom.o \
	$(GSOAP_EXTRAS_DIR)/stdsoap2.o \
	$(SOAP_OBJS)

submit_signer.C: soap_submitH.h ../condor_c++_util/soap_helpers.cpp

# soap_submitStub.C: ../condor_c++_util/soap_helpers.cpp

submit.C: soap_submitH.h

public_c_plus_target($(NAME),bin,$(OBJ),$(LIB))

html:

gen_soapfiles(submit,condorSubmit)
