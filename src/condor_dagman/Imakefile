EDG_INCLUDE_ROOT=/scratch/giaco/edg/workload
EDG_LIB_ROOT=/scratch/giaco/local/edg/lib
CLASSADS_ROOT=/scratch/giaco/local/classads-0.9.4
NAME = condor_dagman
all_target($(NAME))

C_PLUS_FLAGS = -I. $(STD_C_PLUS_FLAGS) \
	-I$(EDG_INCLUDE_ROOT) \
	-I$(CLASSADS_ROOT)/include -DWANT_NAMESPACES \
	-I../condor_daemon_core.V6 \
	-I../condor_includes -I- -Wall
CFLAGS = $(STD_C_FLAGS)
LIB = $(EDG_LIB_ROOT)/libedg_wl_common_requestad.a $(DAEMONCORE_LIB) $(CLASSADS_ROOT)/lib/libclassad.a $(STD_LIBS)

OBJ = dagman_main.o submit.o dag.o job.o util.o parse.o debug.o types.o \
	script.o scriptQ.o planner.o dagman_instantiate.o

c_plus_target($(NAME),$(OBJ),$(LIB))
release_target($(NAME),$(RELEASE_DIR)/bin,EXECUTABLE_MODE)
strip_target($(NAME),$(STRIP_DIR)/bin,EXECUTABLE_MODE)
static_target($(NAME),$(OBJ),$(LIB),$(STATIC_DIR)/bin)
purecov_c_plus_target($(NAME).pc,$(OBJ),$(LIB))
pure_c_plus_target($(NAME).pure,$(OBJ),$(LIB))

html_target( documentation )

release_copy_target(condor_submit_dag,$(RELEASE_DIR)/bin, \
		condor_submit_dag,EXECUTABLE_MODE)
strip_copy_target(condor_submit_dag,$(STRIP_DIR)/bin, \
		condor_submit_dag,EXECUTABLE_MODE)
static_copy_target(condor_submit_dag,$(STATIC_DIR)/bin, \
		condor_submit_dag,EXECUTABLE_MODE)
