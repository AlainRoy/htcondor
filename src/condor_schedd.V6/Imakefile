NAME = condor_schedd
all_target($(NAME) libqmgmt.a)

ODBC_INCLUDE = /afs/cs.wisc.edu/u/j/h/jhuang/odbc/include

C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) -I$(ODBC_INCLUDE)
LDFLAGS = $(STD_LDFLAGS) -lrt -lpq -pg -L /afs/cs.wisc.edu/u/j/h/jhuang/odbc/lib -lodbc
CFLAGS = $(STD_C_FLAGS)

LIB= $(DAEMONCORE_LIB) $(STD_LIBS)

QMGMT_OBJ = qmgmt.o qmgmt_receivers.o qmgmt_common.o schedd_files.o
QMGMT_LIB_OBJ = qmgmt_send_stubs.o qmgr_lib_support.o qmgmt_common.o
OBJ = schedd.o schedd_main.o $(QMGMT_OBJ) schedd_instantiate.o \
	dedicated_scheduler.o grid_universe.o shadow_mgr.o autocluster.o

$(QMGMT_LIB) : libqmgmt.a

library_target(libqmgmt.a,$(QMGMT_LIB_OBJ))

c_plus_target($(NAME),$(OBJ),$(LIB))
release_target($(NAME),sbin,EXECUTABLE_MODE)
strip_target($(NAME),sbin,EXECUTABLE_MODE)
static_target($(NAME),$(OBJ),$(LIB),$(STATIC_DIR)/sbin)
pure_c_plus_target($(NAME).pure,$(OBJ),$(LIB))
purecov_c_plus_target($(NAME).pc,$(OBJ),$(LIB))

c_plus_target(qmgr_test,qmgr_test.o libqmgmt.a,$(LIB))

html_target( documentation )
