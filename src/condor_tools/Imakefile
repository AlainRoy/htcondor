SRC_DIR = $(SRC_TREE)/condor_tools
CFLAGS = $(STD_C_FLAGS) $(PLATFORM_C_FLAGS) -DNEW_PROC
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) -DNEW_PROC -DALLOC_DEBUG
LDFLAGS = $(LIBDBM)

SRC =  \
	config_val.c history.C preen.C reconfig_schedd.c reschedule.c status.c \
	summary.C vacate.c print_status.c block_jobs.c

LIB= ../condor_c++_util/cplus_lib.a ../condor_util_lib/util_lib.a ../condor_xdr_lib/xdr_lib.a RpcLib
LIBDIRS =../condor_util_lib ../condor_xdr_lib ../condor_c++_util

PROGRAMS =  \
	config_val condor_history condor_preen condor_reconfig_schedd \
	condor_reschedule condor_status condor_summary condor_vacate watch_status \
	block_jobs

all_target( $(PROGRAMS) )
tags_target($(SRC),$(LIBDIRS))
depend_target($(SRC))

c_plus_target(condor_summary,summary.o,$(LIB),release)
setgid_target(condor_summary)

c_plus_target(condor_history,history.o,$(LIB),release)
setgid_target(condor_history)

c_plus_target(condor_preen,preen.o,$(LIB),release)
setgid_target(condor_preen)

program_target(config_val,config_val.o,$(LIB),release)
program_target(condor_reconfig_schedd,reconfig_schedd.o,$(LIB),release)
program_target(condor_reschedule,reschedule.o,$(LIB),release)
program_target(condor_status,status.o print_status.o,$(LIB),release)
program_target(condor_vacate,vacate.o,$(LIB),release)
program_target(watch_status,watch_status.o,$(LIB),release)
program_target(block_jobs,block_jobs.o,$(LIB),dont_release)
