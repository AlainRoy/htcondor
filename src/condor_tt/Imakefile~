NAME = condor_quill
QNAME   = condor_q++
HISTORYNAME = condor_history++


all_target( $(NAME) $(QNAME) $(HISTORYNAME))


CFLAGS = $(STD_C_FLAGS)
#------------------------------------------------------------------------------
#-- LOCAL DBMS CASE -- 
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) -Wall -g -D_POSTGRESQL_DBMS_ -D_DEBUG_ -D_QUILL_DAEMON_ -I$(POSTGRESQL_INC)
#------------------------------------------------------------------------------

LDFLAGS = $(STD_LDFLAGS) -L$(POSTGRESQL_LIB) -lrt -lpq
LIB = $(DAEMONCORE_LIB) $(STD_LIBS) $(POSTGRESQL_LIB)/libpq.a

OBJ = quill_main.o classadlogentry.o classadlogparser.o jobqueuedbmanager.o pgsqldatabase.o prober.o requestservice.o jobqueuesnapshot.o jobqueuecollection.o sqlquery.o

QOBJ   = queue.o queue_instantiate.o condor_q.o pgsqldatabase.o jobqueuesnapshot.o sqlquery.o
HISTORYOBJ = history++.o pgsqldatabase.o historysnapshot.o sqlquery.o

c_plus_target($(NAME),$(OBJ),$(LIB))
c_plus_target($(QNAME),$(QOBJ),$(STD_LIBS))
c_plus_target($(HISTORYNAME),$(HISTORYOBJ),$(STD_LIBS))

release_target($(NAME),sbin,EXECUTABLE_MODE)
release_target($(QNAME),bin,EXECUTABLE_MODE)
release_target($(HISTORYNAME),bin,EXECUTABLE_MODE)

#html:
#release:: all
#stripped:: all
#static:: all
#clean::
