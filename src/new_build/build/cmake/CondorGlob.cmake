
MACRO (CONDOR_GLOB CONDOR_HEADERS CONDOR_SRCS)
	
	file(GLOB ${CONDOR_HEADERS} "*.h" )
	file(GLOB ${CONDOR_SRCS} "*.cpp")
	file(GLOB WinSrcs "*WINDOWS*")
	file(GLOB LinuxSrcs "*linux*")
	file(GLOB UnixSrcs "*unix*")

	if(${OS_NAME} STREQUAL "LINUX")
		if (WinSrcs)
			list(REMOVE_ITEM ${CONDOR_SRCS} ${WinSrcs})
			list(REMOVE_ITEM ${CONDOR_HEADERS} ${WinSrcs})
		endif()
		if (UnixSrcs)
			list(REMOVE_ITEM ${CONDOR_SRCS} ${UnixSrcs})
			list(REMOVE_ITEM ${CONDOR_HEADERS} ${UnixSrcs})
		endif()
	else (${OS_NAME} STREQUAL "WINDOWS")
		if (LinuxSrcs)
			list(REMOVE_ITEM ${CONDOR_SRCS} ${LinuxSrcs})
			list(REMOVE_ITEM ${CONDOR_HEADERS} ${LinuxSrcs})
		endif()
		if (UnixSrcs)
			list(REMOVE_ITEM ${CONDOR_SRCS} ${UnixSrcs})
			list(REMOVE_ITEM ${CONDOR_HEADERS} ${UnixSrcs})
		endif()
	else ()
		if (WinSrcs)
			list(REMOVE_ITEM ${CONDOR_SRCS} ${WinSrcs})
			list(REMOVE_ITEM ${CONDOR_HEADERS} ${WinSrcs})
		endif()
		if (LinuxSrcs)
			list(REMOVE_ITEM ${CONDOR_SRCS} ${LinuxSrcs})
			list(REMOVE_ITEM ${CONDOR_HEADERS} ${LinuxSrcs})
		endif()
	endif()

ENDMACRO (CONDOR_GLOB)