CFLAGS = $(STD_C_FLAGS) $(PLATFORM_C_FLAGS) -DUSE_XDR
C_PLUS_FLAGS = $(STD_C_PLUS_FLAGS) -DNEW_PROC -DALLOC_DEBUG -fexternal-templates -DUSE_XDR
LDFLAGS = $(LIBDBM) -lm

ENGINE_SRC = hashkey.C collector_engine.C
ENGINE_OBJ = hashkey.o collector_engine.o

SRC = initialize.C collector.C 
OBJ = initialize.o collector.o
LIB = ../condor_daemon_core/daemon_core.a collector_engine.a \
	../condor_xdr_lib/xdr_lib.a \
		../condor_classad/expr_lib.a ../condor_c++_util/cplus_lib.a \
	  ../condor_util_lib/util_lib.a ../condor_io/libcondor.a \
	  RpcLib SocketLib

all_target(collector_engine.a condor_collector)
c_plus_target(condor_collector,$(OBJ),$(LIB))
tags_target($(SRC),$(LIBDIRS))
depend_target($(SRC))
library_target(collector_engine.a, $(ENGINE_OBJ))
release_target(condor_collector,$(RELEASE_DIR)/bin,EXECUTABLE_MODE)
